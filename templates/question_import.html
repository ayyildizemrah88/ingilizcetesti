{% extends "base.html" %}

{% block title %}Soru İçe Aktarma{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title mb-1">
                        <span class="material-icons-outlined me-2">upload_file</span>
                        Soru İçe Aktarma
                    </h4>
                    <p class="text-muted mb-0">Excel veya CSV dosyasından toplu soru yükleyin</p>
                </div>

                <div class="card-body">
                    <form action="{{ url_for('question_import.upload') }}" method="POST" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token"
                            value="{{ csrf_token() if csrf_token is defined else '' }}">

                        <div class="mb-4">
                            <label class="form-label">Dosya Seçin</label>
                            <input type="file" name="file" class="form-control" accept=".xlsx,.xls,.csv" required>
                            <small class="text-muted">Desteklenen formatlar: .xlsx, .xls, .csv</small>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Kategori</label>
                            <select name="category" class="form-select" required>
                                <option value="grammar">Grammar</option>
                                <option value="vocabulary">Vocabulary</option>
                                <option value="reading">Reading</option>
                                <option value="listening">Listening</option>
                                <option value="writing">Writing</option>
                                <option value="speaking">Speaking</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Varsayılan Seviye</label>
                            <select name="level" class="form-select">
                                <option value="A1">A1 - Başlangıç</option>
                                <option value="A2">A2 - Temel</option>
                                <option value="B1" selected>B1 - Orta Altı</option>
                                <option value="B2">B2 - Orta Üstü</option>
                                <option value="C1">C1 - İleri</option>
                                <option value="C2">C2 - Ustalaşmış</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <span class="material-icons-outlined me-1">cloud_upload</span>
                            Yükle ve İçe Aktar
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <span class="material-icons-outlined me-2">help_outline</span>
                        Dosya Formatı
                    </h5>
                </div>
                <div class="card-body">
                    <p class="small">Excel dosyanız şu sütunları içermelidir:</p>
                    <ul class="small">
                        <li><strong>soru</strong> - Soru metni</li>
                        <li><strong>a</strong> - A şıkkı</li>
                        <li><strong>b</strong> - B şıkkı</li>
                        <li><strong>c</strong> - C şıkkı</li>
                        <li><strong>d</strong> - D şıkkı</li>
                        <li><strong>dogru_cevap</strong> - Doğru şık (a/b/c/d)</li>
                        <li><strong>seviye</strong> - CEFR seviyesi (opsiyonel)</li>
                    </ul>
                    <hr>
                    <a href="{{ url_for('question_import.download_template') }}"
                        class="btn btn-outline-secondary btn-sm">
                        <span class="material-icons-outlined me-1" style="font-size: 16px;">download</span>
                        Örnek Şablon İndir
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
